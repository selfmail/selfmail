---
import EmailViewer from "@/components/EmailViewer.astro";
import GridItem from "../components/GridItem.astro";
import Layout from "../layouts/Layout.astro";
---

<Layout title="Selfmail | The open-source business first email provider.">
	<div class="w-full flex flex-col">
		<div class="flex mt-24 flex-col items-center justify-center">
			<h1 class="text-center text-4xl sm:text-6xl md:text-7xl">
				<span class="text-neutral-300">The Business First</span><br /> Email
				Platform
			</h1>
			<div class="flex items-center flex-row space-x-6 mt-8">
				<a
					href="/features"
					class="text-neutral-100 hover:text-neutral-300"
				>
					Learn More
				</a>
				<a
					href="https://dashboard.selfmail.app/auth/register"
					class="text-black bg-neutral-100 px-4 py-2 rounded-full hover:bg-neutral-200 pr-5 transition-colors"
				>
					Start Now for Free
				</a>
			</div>
		</div>
		<div class="flex w-full mt-20 relative h-full">
			<img
				src="/image.png"
				alt="Hero Image"
				class="w-full h-auto pointer-events-none select-none"
			/>
		</div>
		<div class="lg:px-20 flex flex-col mt-32 space-y-12">
			<div class="flex flex-col space-y-3">
				<h2 class="text-5xl text-center">Made for the AI Century</h2>
				<p
					class="text-neutral-300 text-center text-balance max-w-2xl mx-auto"
				>
					Selfmail is ment to be used with AI. We leverage advanced
					machine learning algorithms to enhance your email
					experience.
				</p>
			</div>
			<div
				class="grid gap-px outline outline-neutral-700 grid-cols-8 grid-rows-6 w-full"
			>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<div
					class="flex relative flex-col space-y-3 item-center h-full justify-center w-full col-span-6 row-span-2 outline outline-neutral-700 overflow-hidden"
				>
					<div
						class="inset-0 absolute rounded-full outline outline-neutral-700"
					>
						<h2 class="text-center text-3xl">For your Business</h2>
					</div>
				</div>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<div
					class="outline relative outline-neutral-700 col-span-2 row-span-3 overflow-hidden"
				>
					<div
						class="flex flex-col absolute inset-0 rounded-full outline outline-neutral-700"
					>
						<h2>Layer Security</h2>
					</div>
				</div>
				<div
					class="outline relative outline-neutral-700 col-span-4 row-span-2 overflow-hidden"
				>
					<div
						class="flex flex-col absolute inset-0 rounded-full outline outline-neutral-700"
					>
						<h2>AI-Powered Email Composition</h2>
					</div>
				</div>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<GridItem
					class="outline outline-neutral-700 aspect-square overflow-hidden relative"
				/>
				<div
					class="outline relative outline-neutral-700 col-span-8 row-span-1 overflow-hidden"
				>
					<div class="absolute inset-0 flex items-center">
						<div class="flex gap-16" id="carousel">
							<div class="text-6xl opacity-30 shrink-0">ğŸ¢</div>
							<div class="text-6xl opacity-30 shrink-0">ğŸš€</div>
							<div class="text-6xl opacity-30 shrink-0">ğŸ’¼</div>
							<div class="text-6xl opacity-30 shrink-0">ğŸ­</div>
							<div class="text-6xl opacity-30 shrink-0">ğŸ›ï¸</div>
						</div>
					</div>
					<div
						class="absolute top-0 bottom-0 left-0 w-1/4 bg-linear-to-r from-(--color-background) to-transparent pointer-events-none z-10"
					>
					</div>
					<div
						class="absolute top-0 bottom-0 right-0 w-1/4 bg-linear-to-l from-(--color-background) to-transparent pointer-events-none z-10"
					>
					</div>
					<div
						class="flex items-center justify-center flex-col absolute inset-0 rounded-full outline outline-neutral-700 pointer-events-none z-20"
					>
						<h2 class="text-4xl font-medium relative z-10">
							Trusted by thousands of companies
						</h2>
					</div>
				</div>
			</div>
		</div>
		<div class="flex lg:mx-20 mx-6 flex-col space-y-12 items-center mt-32">
			<div class="flex flex-col space-y-3 text-center max-w-3xl">
				<h2 class="text-4xl font-medium">Feel the Simplicity.</h2>
				<p class="text-neutral-300">
					Selfmail is built from the ground up to be intuitive and
					powerful. Try our live demo below - send an email from any
					email client to
					<span
						class="font-mono bg-neutral-800 px-2 py-1 rounded text-neutral-100"
						>henri@selfmail.app</span
					>
					and watch it appear in real-time!
				</p>
			</div>
			<EmailViewer />
		</div>
	</div>
	<div class="vertical-lines mx-20 h-72 mt-32 relative">
		<a
			href="https://dashboard.selfmail.app/auth/register"
			class="absolute flex-col space-y-3 hover:bg-neutral-900 transition-colors w-[50%] right-10 top-10 bottom-10 rounded-full bg-(--color-background) flex items-center justify-center px-8"
		>
			<h2 class="text-center text-4xl font-medium">
				Fix your communication
			</h2>
		</a>
	</div>
</Layout>

<style>
	.vertical-lines {
		background-image: repeating-linear-gradient(
			to top,
			transparent,
			transparent 14px,
			rgba(168, 235, 184, 0.613) 15px
		);
	}
	.vertical-lines > a {
		border: dashed 2px rgba(168, 235, 184, 0.613);
	}
</style>

<script>
	const carousel = document.getElementById("carousel");
	if (carousel) {
		const icons = ["ğŸ¢", "ğŸš€", "ğŸ’¼", "ğŸ­", "ğŸ›ï¸"];

		for (let i = 0; i < 20; i++) {
			const icon = document.createElement("div");
			icon.className = "text-6xl opacity-30 shrink-0";
			icon.textContent = icons[i % icons.length];
			carousel.appendChild(icon);
		}

		carousel.style.willChange = "transform";
		let position = 0;
		const speed = 1;
		const carouselEl = carousel;

		function animate() {
			position -= speed;
			carouselEl.style.transform = `translateX(${position}px)`;

			const firstChild = carouselEl.firstElementChild as HTMLElement;
			if (
				firstChild &&
				Math.abs(position) >= firstChild.offsetWidth + 64
			) {
				position += firstChild.offsetWidth + 64;
				carouselEl.appendChild(firstChild);
			}

			requestAnimationFrame(animate);
		}

		animate();
	}
</script>
